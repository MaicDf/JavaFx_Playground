package application.views;

import javafx.animation.FadeTransition;
import javafx.animation.ScaleTransition;
import javafx.fxml.FXML;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.text.Text;
import javafx.stage.Screen;
import javafx.util.Duration;

public class Controller1Inicio {
	@FXML
	private Label logoLabel;

	@FXML
	private Button newGameButton;

	@FXML
	public void initialize() {
		
		logoLabel.setLayoutX(Screen.getPrimary().getBounds().getWidth()/2);
		logoLabel.sceneProperty().addListener((observable, oldScene, newScene) -> {
		        if (newScene != null) {
		        	System.out.println(logoLabel.getParent().layoutXProperty());
		        	logoLabel.layoutXProperty().unbind();
		        	logoLabel.setLayoutX(500);
		        	System.out.println(logoLabel.layoutXProperty());

		        	//logoLabel.layoutXProperty().bind(logoLabel.getParent().layoutXProperty().divide(2));
		        	//logoLabel.layoutXProperty().bind(newScene.widthProperty().subtract(logoLabel.getBoundsInLocal().getWidth()).divide(2));
		        	//logoLabel.layoutYProperty().bind(newScene.heightProperty().divide(2).subtract(100)); // 100px arriba del centro
		        }
		    });
																						// centro
		newGameButton.setVisible(false);
		// Animación de aparición del logo
		FadeTransition fadeIn = new FadeTransition(Duration.seconds(2), logoLabel);
		fadeIn.setFromValue(0);
		fadeIn.setToValue(1);

		// Animación de escala (creciendo el logo)
		ScaleTransition scaleUp = new ScaleTransition(Duration.seconds(2), logoLabel);
		scaleUp.setFromX(0.5);
		scaleUp.setFromY(0.5);
		scaleUp.setToX(1.5);
		scaleUp.setToY(1.5);

		// Animación combinada
		fadeIn.setOnFinished(e -> {
			FadeTransition fadeOut = new FadeTransition(Duration.seconds(2), logoLabel);
			fadeOut.setFromValue(1);
			fadeOut.setToValue(0);

			fadeOut.setOnFinished(ev -> {
				// Mostrar botón New Game
				newGameButton.setVisible(true);
			});

			fadeOut.play();
		});

		// Ejecutar las animaciones
		fadeIn.play();
		scaleUp.play();
	}

	@FXML
	private void startNewGame() {
		System.out.println("Starting the game...");
		// Aquí puedes cambiar a la escena del juego
	}
}